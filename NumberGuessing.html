<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Guessing Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                fontFamily: {
                    sans: ['Inter', 'sans-serif'],
                    heading: ['Outfit', 'sans-serif'],
                },
                extend: {
                    colors: {
                        primary: '#6c5ce7',
                        secondary: '#a29bfe',
                        accent: '#fd79a8',
                        dark: '#1e202a',
                        surface: '#2b2e3b',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-[#13151b] text-white min-h-screen flex items-center justify-center p-4 font-sans overflow-x-hidden selection:bg-primary selection:text-white">

    <div class="w-full max-w-lg bg-surface/30 backdrop-blur-xl rounded-3xl p-6 md:p-8 shadow-2xl border border-white/5">
        
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-black font-heading bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500 mb-2 drop-shadow-sm">
                NUMBER GUESSER
            </h1>
            <p class="text-gray-400 text-sm md:text-base">Can you guess the secret number?</p>
            <a href="index.html" class="inline-block mt-2 text-xs text-gray-500 hover:text-white transition-colors">
                <i class="fas fa-arrow-left"></i> Back to Hub
            </a>
        </header>

        <!-- Instructions (Collapsible/Small) -->
        <div class="bg-black/20 rounded-2xl p-4 mb-6 text-sm border border-white/5">
            <h2 class="text-yellow-400 font-bold mb-3 flex items-center justify-center gap-2">
                <i class="fas fa-info-circle"></i> How to Play
            </h2>
            <div class="space-y-2 text-gray-400">
                <div class="flex gap-3 items-start">
                    <span class="bg-blue-500/20 text-blue-400 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5">1</span>
                    <p>I'll pick a number based on difficulty.</p>
                </div>
                <div class="flex gap-3 items-start">
                    <span class="bg-blue-500/20 text-blue-400 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5">2</span>
                    <p>Enter your guess and I'll say Higher or Lower.</p>
                </div>
                <div class="flex gap-3 items-start">
                    <span class="bg-blue-500/20 text-blue-400 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5">3</span>
                    <p>Find the number in minimal attempts!</p>
                </div>
            </div>
        </div>
        
        <!-- Difficulty Selection -->
        <div class="flex flex-wrap justify-center gap-2 mb-6">
            <button class="difficulty-btn active px-4 py-2 rounded-full text-xs font-bold border border-white/10 transition-all hover:bg-white/10" data-difficulty="easy">Easy (1-100)</button>
            <button class="difficulty-btn px-4 py-2 rounded-full text-xs font-bold border border-white/10 transition-all hover:bg-white/10" data-difficulty="medium">Medium (1-500)</button>
            <button class="difficulty-btn px-4 py-2 rounded-full text-xs font-bold border border-white/10 transition-all hover:bg-white/10" data-difficulty="hard">Hard (1-1000)</button>
        </div>
        
        <!-- Stats -->
        <div class="flex gap-4 mb-6">
            <div class="flex-1 bg-black/20 rounded-xl p-3 text-center border border-white/5">
                <div class="text-xs text-gray-400 font-bold tracking-wider mb-1 uppercase">Time</div>
                <div id="timer" class="text-2xl font-bold text-yellow-400 font-heading">00:00</div>
            </div>
            <div class="flex-1 bg-black/20 rounded-xl p-3 text-center border border-white/5">
                <div class="text-xs text-gray-400 font-bold tracking-wider mb-1 uppercase">Attempts</div>
                <div id="attempts" class="text-2xl font-bold text-green-400 font-heading">0</div>
            </div>
        </div>
        
        <!-- Input & Hint -->
        <div class="space-y-4 mb-6">
            <div class="relative">
                <input type="number" id="guess-input" class="w-full bg-black/20 rounded-xl py-4 px-4 text-center text-xl font-bold text-white placeholder-gray-600 border border-white/10 focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all appearance-none" placeholder="Enter your guess">
            </div>
             
            <div id="hint" class="w-full p-4 rounded-xl text-lg font-bold text-white text-center shadow-lg transition-all bg-gradient-to-r from-blue-600 to-purple-600">
                Enter a number to begin
            </div>
        </div>
        
        <!-- Controls -->
        <div class="flex flex-col gap-3 mb-6">
            <button id="submit-btn" class="w-full py-4 bg-gradient-to-r from-primary to-accent rounded-xl font-bold text-white shadow-lg shadow-primary/25 hover:shadow-primary/40 hover:-translate-y-1 transition-all active:translate-y-0 text-lg uppercase tracking-wider">
                Submit Guess
            </button>
            <button id="reset-btn" class="w-full py-3 bg-white/5 hover:bg-white/10 rounded-xl font-bold text-gray-300 hover:text-white transition-all border border-white/5 hover:border-white/10">
                New Game
            </button>
        </div>
        
        <div id="win-message" class="hidden text-center text-2xl font-bold text-yellow-400 mb-6 font-heading animate-pulse">
            Congratulations! You guessed it!
        </div>
        
        <!-- History -->
        <div class="bg-black/20 rounded-xl p-4 border border-white/5">
            <h3 class="text-xs text-gray-400 font-bold uppercase mb-3 text-center">Guess History</h3>
            <ul class="history-list space-y-2 max-h-40 overflow-y-auto pr-2 custom-scrollbar text-sm text-center" id="history-list">
                <!-- History items injected here -->
            </ul>
        </div>

    </div>

    <!-- Background decoration -->
    <div class="fixed top-0 left-0 w-full h-full pointer-events-none -z-10">
        <div class="absolute top-[20%] left-[10%] w-[400px] h-[400px] bg-primary/10 rounded-full blur-[100px]"></div>
        <div class="absolute bottom-[20%] right-[10%] w-[400px] h-[400px] bg-accent/10 rounded-full blur-[100px]"></div>
    </div>

    <script>
        // Game variables
        let randomNumber;
        let attempts = 0;
        let timer = 0;
        let timerInterval;
        let gameActive = false;
        let difficulty = 'easy';
        let maxAttempts = 10;
        
        // DOM elements
        const guessInput = document.getElementById('guess-input');
        const submitBtn = document.getElementById('submit-btn');
        const resetBtn = document.getElementById('reset-btn');
        const hintElement = document.getElementById('hint');
        const timerElement = document.getElementById('timer');
        const attemptsElement = document.getElementById('attempts');
        const historyList = document.getElementById('history-list');
        const winMessage = document.getElementById('win-message');
        const difficultyBtns = document.querySelectorAll('.difficulty-btn');
        
        // Tailwind class strings for Hint States
        const HINT_INFO = "w-full p-4 rounded-xl text-lg font-bold text-white text-center shadow-lg transition-all bg-gradient-to-r from-blue-600 to-purple-600";
        const HINT_HIGH = "w-full p-4 rounded-xl text-lg font-bold text-white text-center shadow-lg transition-all bg-gradient-to-r from-red-500 to-orange-500 animate-pulse";
        const HINT_LOW = "w-full p-4 rounded-xl text-lg font-bold text-white text-center shadow-lg transition-all bg-gradient-to-r from-teal-400 to-emerald-500 animate-pulse";
        const HINT_CORRECT = "w-full p-4 rounded-xl text-lg font-bold text-black text-center shadow-lg transition-all bg-gradient-to-r from-yellow-400 to-orange-400 animate-bounce";

        // Initialize game
        function initGame() {
            // Reset game state
            clearInterval(timerInterval);
            attempts = 0;
            timer = 0;
            gameActive = true;
            
            // Set difficulty
            setDifficulty();
            
            // Generate random number based on difficulty
            if (difficulty === 'easy') {
                randomNumber = Math.floor(Math.random() * 100) + 1;
                maxAttempts = 10;
            } else if (difficulty === 'medium') {
                randomNumber = Math.floor(Math.random() * 500) + 1;
                maxAttempts = 12;
            } else {
                randomNumber = Math.floor(Math.random() * 1000) + 1;
                maxAttempts = 15;
            }
            
            // Update UI
            updateAttempts();
            timerElement.textContent = formatTime(timer);
            hintElement.textContent = "Enter a number to begin guessing";
            hintElement.className = HINT_INFO;
            winMessage.classList.add('hidden');
            historyList.innerHTML = "";
            guessInput.value = "";
            guessInput.disabled = false;
            submitBtn.disabled = false;
            submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            
            // Start timer
            timerInterval = setInterval(() => {
                timer++;
                timerElement.textContent = formatTime(timer);
            }, 1000);
            
            console.log(`Random number: ${randomNumber}`); // For debugging
        }
        
        // Set difficulty level
        function setDifficulty() {
            difficultyBtns.forEach(btn => {
                if (btn.dataset.difficulty === difficulty) {
                    btn.classList.add('bg-primary', 'border-primary', 'text-white');
                    btn.classList.remove('active'); // legacy
                } else {
                    btn.classList.remove('bg-primary', 'border-primary', 'text-white', 'active');
                }
            });
            
            // Update placeholder based on difficulty
            if (difficulty === 'easy') {
                guessInput.placeholder = "Enter (1-100)";
                guessInput.min = 1;
                guessInput.max = 100;
            } else if (difficulty === 'medium') {
                guessInput.placeholder = "Enter (1-500)";
                guessInput.min = 1;
                guessInput.max = 500;
            } else {
                guessInput.placeholder = "Enter (1-1000)";
                guessInput.min = 1;
                guessInput.max = 1000;
            }
        }
        
        // Format time as MM:SS
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            return `${mins}:${secs}`;
        }
        
        // Update attempts display
        function updateAttempts() {
            attemptsElement.textContent = attempts;
        }
        
        // Handle guess submission
        function submitGuess() {
            if (!gameActive) return;
            
            const guess = parseInt(guessInput.value);
            
            // Validate input
            if (isNaN(guess)) {
                hintElement.textContent = "Please enter a valid number!";
                hintElement.className = HINT_INFO;
                return;
            }
            
            // Check if guess is within range
            let minRange, maxRange;
            if (difficulty === 'easy') {
                minRange = 1;
                maxRange = 100;
            } else if (difficulty === 'medium') {
                minRange = 1;
                maxRange = 500;
            } else {
                minRange = 1;
                maxRange = 1000;
            }
            
            if (guess < minRange || guess > maxRange) {
                hintElement.textContent = `Please enter between ${minRange} and ${maxRange}!`;
                hintElement.className = HINT_INFO;
                return;
            }
            
            // Increment attempts
            attempts++;
            updateAttempts();
            
            // Add to history
            const historyItem = document.createElement('li');
            historyItem.textContent = `Attempt ${attempts}: ${guess}`;
            historyItem.className = "text-gray-300 py-1 border-b border-white/5 last:border-0";
            historyList.prepend(historyItem);
            
            // Check guess
            if (guess === randomNumber) {
                // Correct guess
                hintElement.textContent = `Correct! The number was ${randomNumber}`;
                hintElement.className = HINT_CORRECT;
                winMessage.classList.remove('hidden');
                clearInterval(timerInterval);
                gameActive = false;
                guessInput.disabled = true;
                submitBtn.disabled = true;
                submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
                
                // Show win message based on performance
                if (attempts <= 3) {
                    winMessage.textContent = "Amazing! You're a mind reader!";
                } else if (attempts <= 6) {
                    winMessage.textContent = "Great job! You're really good at this!";
                } else if (attempts <= 10) {
                    winMessage.textContent = "Well done! You found it!";
                } else {
                    winMessage.textContent = "You did it! Practice makes perfect!";
                }
            } else if (guess > randomNumber) {
                // Too high
                hintElement.textContent = "Too High! Try Lower ↓";
                hintElement.className = HINT_HIGH;
            } else {
                // Too low
                hintElement.textContent = "Too Low! Try Higher ↑";
                hintElement.className = HINT_LOW;
            }
            
            // Check if max attempts reached
            if (attempts >= maxAttempts && gameActive) {
                hintElement.textContent = `Game Over! The number was ${randomNumber}`;
                hintElement.className = HINT_INFO;
                clearInterval(timerInterval);
                gameActive = false;
                guessInput.disabled = true;
                submitBtn.disabled = true;
                submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
                winMessage.textContent = "Better luck next time!";
                winMessage.classList.remove('hidden');
            }
            
            // Clear input
            guessInput.value = "";
            guessInput.focus();
        }
        
        // Event listeners
        submitBtn.addEventListener('click', submitGuess);
        
        guessInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitGuess();
            }
        });
        
        resetBtn.addEventListener('click', initGame);
        
        difficultyBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                difficulty = btn.dataset.difficulty;
                initGame();
            });
        });
        
        // Initialize the game
        initGame();
    </script>
</body>
</html>